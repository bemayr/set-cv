(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{Dvel:function(e){function n(e,n,r){var i;for(t(e,"",[],void 0),i=0===a.length?JSON.stringify(e,n,r):JSON.stringify(e,o(n),r);0!==c.length;){var s=c.pop();4===s.length?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}return i}function t(e,n,r,i){var s;if("object"==typeof e&&null!==e){for(s=0;s<r.length;s++)if(r[s]===e){var o=Object.getOwnPropertyDescriptor(i,n);return void(void 0!==o.get?o.configurable?(Object.defineProperty(i,n,{value:"[Circular]"}),c.push([i,n,e,o])):a.push([e,n]):(i[n]="[Circular]",c.push([i,n,e])))}if(r.push(e),Array.isArray(e))for(s=0;s<e.length;s++)t(e[s],s,r,e);else{var u=Object.keys(e);for(s=0;s<u.length;s++){var d=u[s];t(e[d],d,r,e)}}r.pop()}}function r(e,n){return e<n?-1:e>n?1:0}function i(e,n,t){var r,i=s(e,"",[],void 0)||e;for(r=0===a.length?JSON.stringify(i,n,t):JSON.stringify(i,o(n),t);0!==c.length;){var u=c.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}return r}function s(e,n,t,i){var o;if("object"==typeof e&&null!==e){for(o=0;o<t.length;o++)if(t[o]===e){var u=Object.getOwnPropertyDescriptor(i,n);return void(void 0!==u.get?u.configurable?(Object.defineProperty(i,n,{value:"[Circular]"}),c.push([i,n,e,u])):a.push([e,n]):(i[n]="[Circular]",c.push([i,n,e])))}if("function"==typeof e.toJSON)return;if(t.push(e),Array.isArray(e))for(o=0;o<e.length;o++)s(e[o],o,t,e);else{var d={},f=Object.keys(e).sort(r);for(o=0;o<f.length;o++){var v=f[o];s(e[v],v,t,e),d[v]=e[v]}if(void 0===i)return d;c.push([i,n,e]),i[n]=d}t.pop()}}function o(e){return e=void 0!==e?e:function(e,n){return n},function(n,t){if(a.length>0)for(var r=0;r<a.length;r++){var i=a[r];if(i[1]===n&&i[0]===t){t="[Circular]",a.splice(r,1);break}}return e.call(this,n,t)}}e.exports=n,n.default=n,n.stable=i,n.stableStringify=i;var c=[],a=[]},h77i:function(e,n,t){"use strict";function r(e){return"function"==typeof e?e():e}function i(e){try{return JSON.stringify(e)}catch(n){return y()(e)}}function s(e){if(!e)return!1;try{if("object"==typeof e&&"type"in e&&e.type.startsWith("service."))return!0}catch(e){return!1}return!1}function o(e){var n=b.a.create(JSON.parse(e));return delete n.history,n}function c(e){switch(e.type){case"service.event":return v(v({},e),{event:JSON.parse(e.event)});case"service.register":return v(v({},e),{machine:Object(g.a)(JSON.parse(e.machine)),state:o(e.state)});case"service.state":return v(v({},e),{state:o(e.state)});default:return e}}function a(){var e=new Set,n=new Set;return{services:e,register:function(t){e.add(t),O.set(t.sessionId,t),n.forEach((function(e){return e(t)})),t.onStop((function(){e.delete(t),O.delete(t.sessionId)}))},unregister:function(n){e.delete(n),O.delete(n.sessionId)},onRegister:function(t){return n.add(t),e.forEach((function(e){return t(e)})),{unsubscribe:function(){n.delete(t)}}}}}function u(e){var n=v(v({},S),e),t=n.url,s=n.devTools,o=r(n.iframe);if(null!==o){var c,a,u=r(s),d=function(e){void 0===e&&(e=globalThis.__xstate__);var n=new Map,t=e.onRegister((function(e){n.set(e.sessionId,e)}));return Object(g.a)({initial:"pendingConnection",context:{client:void 0},states:{pendingConnection:{},connected:{on:{"service.state":{actions:function(e,n){return e.client.send(n)}},"service.event":{actions:function(e,n){return e.client.send(n)}},"service.register":{actions:function(e,n){return e.client.send(n)}},"service.stop":{actions:function(e,n){return e.client.send(n)}},"xstate.event":{actions:function(e,t){var r=JSON.parse(t.event),i=n.get(r.origin);null==i||i.send(r)}},unload:{actions:function(e){e.client.send({type:"xstate.disconnect"})}},disconnect:"disconnected"}},disconnected:{entry:function(){t.unsubscribe()},type:"final"}},on:{"xstate.inspecting":{target:".connected",actions:[Object(w.b)({client:function(e,n){return n.client}}),function(n){e.services.forEach((function(e){var t;null===(t=n.client)||void 0===t||t.send({type:"service.register",machine:i(e.machine),state:i(e.state||e.initialState),sessionId:e.sessionId})}))}]}}})}(u),f=Object(l.a)(d).start(),b=new Set,h=f.subscribe((function(e){b.forEach((function(n){return n.next(e)}))})),y=function(e){"object"==typeof e.data&&null!==e.data&&"type"in e.data&&(o&&!c&&(c=o.contentWindow),a||(a={send:function(e){c.postMessage(e,t)}}),f.send(v(v({},e.data),{client:a})))};return window.addEventListener("message",y),window.addEventListener("unload",(function(){f.send({type:"unload"})})),!1===o&&(c=window.open(t,"xstateinspector")),u.onRegister((function(e){var n;f.send({type:"service.register",machine:i(e.machine),state:i(e.state||e.initialState),sessionId:e.sessionId,id:e.id,parent:null===(n=e.parent)||void 0===n?void 0:n.sessionId}),f.send({type:"service.event",event:i((e.state||e.initialState)._event),sessionId:e.sessionId});var t=e.send.bind(e);e.send=function(n,r){return f.send({type:"service.event",event:i(Object(p.toSCXMLEvent)(Object(p.toEventObject)(n,r))),sessionId:e.sessionId}),t(n,r)},e.subscribe((function(n){f.send({type:"service.state",state:i(n),sessionId:e.sessionId})})),e.onStop((function(){f.send({type:"service.stop",sessionId:e.sessionId})}))})),o&&(o.addEventListener("load",(function(){c=o.contentWindow})),o.setAttribute("src",t)),{send:function(e){f.send(e)},subscribe:function(e,n,t){var r=Object(p.toObserver)(e,n,t);return b.add(r),{unsubscribe:function(){b.delete(r)}}},disconnect:function(){f.send("disconnect"),window.removeEventListener("message",y),h.unsubscribe()}}}console.warn("No suitable <iframe> found to embed the inspector. Please pass an <iframe> element to `inspect(iframe)` or create an <iframe data-xstate></iframe> element.")}function d(e){var n=e||{},t=n.window,r=void 0===t?window:t,i=n.targetWindow,o=void 0===i?window.self===window.top?window.opener:window.parent:i,a=new Set,u=function(e){var n=e.data;s(n)&&a.forEach((function(e){return e.next(c(n))}))};r.addEventListener("message",u);var d={id:"xstate.windowReceiver",send:function(e){o&&o.postMessage(e,"*")},subscribe:function(e,n,t){var r=Object(p.toObserver)(e,n,t);return a.add(r),{unsubscribe:function(){a.delete(r)}}},stop:function(){a.clear(),r.removeEventListener("message",u)}};return d.send({type:"xstate.inspecting"}),d}function f(e){var n=e.protocol,t=new WebSocket((void 0===n?"ws":n)+"://"+e.server),r=new Set,i={id:"xstate.webSocketReceiver",send:function(e){t.send(JSON.stringify(e))},subscribe:function(e,n,t){var i=Object(p.toObserver)(e,n,t);return r.add(i),{unsubscribe:function(){r.delete(i)}}}};return t.onopen=function(){i.send({type:"xstate.inspecting"})},t.onmessage=function(e){if("string"==typeof e.data)try{var n=JSON.parse(e.data);s(n)&&r.forEach((function(e){e.next(c(n))}))}catch(e){console.error(e)}},t.onerror=function(e){r.forEach((function(n){var t;null===(t=n.error)||void 0===t||t.call(n,e)}))},i}t.r(n),t.d(n,"createDevTools",(function(){return a})),t.d(n,"createWebSocketReceiver",(function(){return f})),t.d(n,"createWindowReceiver",(function(){return d})),t.d(n,"inspect",(function(){return u}));var v=function(){return(v=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)},l=t("5U28"),p=t("V2VT"),b=t("u/lu"),g=t("L0a+"),h=t("Dvel"),y=t.n(h),w=t("+PlL"),O=new Map,S={url:"https://statecharts.io/inspect",iframe:function(){return document.querySelector("iframe[data-xstate]")},devTools:function(){var e=a();return globalThis.__xstate__=e,e}}}}]);
//# sourceMappingURL=2.chunk.8d2bf.esm.js.map